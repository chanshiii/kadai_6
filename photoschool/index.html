<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="~カメラマンのがっこう~photo school-ふぉとすく">
    <meta property="og:title" content="photo school">
    <link rel="shortcut icon" href="./icon/Photo and Video coverage.png">
    <link rel="apple-touch-icon-precomposed" href="./icon/Photo and Video coverage.png">
    <link href="https://fonts.googleapis.com/css?family=Baskervville%7CLa+Belle+Aurore&amp;display=swap" rel="stylesheet">
    <title>photo school TOP</title>
    <link rel="stylesheet" href="./style.css">
    <script src="./js/jquery-3.6.0.min.js"></script>
</head>
<body class="top_container">
    <header>
        <!-- <div class="header_title">
            <p>supported by<br> Chanshi_Chanssie</p>
        </div> -->
        <div class="header_title" >
            <a href="./a-frame/a-frame.html"><p>supported by<br> Chanshi_Chanssie</p></a>
        </div>
    </header>

    <main>
        <div class="title_contents">
            <div class="title_text animation">
                <p class="title_sub_1" id="title_sub_1">~カメラマンのがっこう~</p>
                <h1 class="title_main">photo school</h1>
                <p class="title_sub_2" id="title_sub_2">ふぉとすく</p>
            </div>
            <div class="title_img animation">
                <img src="./icon/title_contens.png" alt="">
            </div>
        </div>
        
        <!-- aリンクを使用して入学するを囲んだ場合、JSで「再生」→「ページ移行」と制御しても先にページ移行が行われ、クリック時に音がなる前にぺージが移動してしまう -->
        <div class="start-button" id="start-button" onclick="audio()">
            <p>入学する</p>
        <audio id="start-btn">
            <source src="../photoschool/audio/start-button_1.wav" type="audio/mpeg">
            <source src="../photoschool/audio/start-button_2.wav" type="audio/mpeg">
            <source src="../photoschool/audio/start-button_3.wav" type="audio/mpeg">
            <source src="../photoschool/audio/start-button_4.wav" type="audio/mpeg">
            <source src="../photoschool/audio/start-button_5.wav" type="audio/mpeg">
            <source src="../photoschool/audio/start-button_6.wav" type="audio/mpeg">
            <source src="../photoschool/audio/start-button_7.wav" type="audio/mpeg">
        </audio>
        </div>

        <!-- <audio id="start-btn" src="../photoschool/audio/start-button.wav"></audio>
        <div class="start-button" id="start-button">
            <a href="#"  onclick="document.getElementById('start-btn').play();">入学する</a>
        </div> -->
        
        <audio autoplay id="audio_autoplay">
        <source src="../photoschool/audio/voice_1.wav" type="audio/mpeg">
        <source src="../photoschool/audio/voice_2.wav" type="audio/mpeg">
        <source src="../photoschool/audio/voice_3.wav" type="audio/mpeg">
        <source src="../photoschool/audio/voice_4.wav" type="audio/mpeg">
        <source src="../photoschool/audio/voice_5.wav" type="audio/mpeg">
        </audio>
        <!-- ループ用 -->
        <!-- <audio autoplay loop id="audio_autoplay">
        <source src="../photoschool/audio/voice.wav" type="audio/mpeg">
        </audio> -->
    </main>

    <script>
//     window.addEventListener('load', function() {
//     let audio = $("#audio_autoplay").get(0);
//     audio.play();
// });
    function audio() {
    let audio = $('#start-btn')[0]; //[0]はaudioに要素を何個も持たせることができるので[0]と指定が必要。
    let sources = audio.getElementsByTagName('source'); //sourceの名前を取得
    let randomIndex = Math.floor(Math.random() * sources.length); //sourceの長さ分ランダムで出力する
    console.log(randomIndex); //デバック用
    let randomSource = sources[randomIndex].src;  //sourcesの要素を監視して、.src属性にアクセスし値を取得。

    audio.src = randomSource;
    audio.play(); //オーディオを再生
    setTimeout(function() {
        window.location.href = './photo_game/main.html';
    }, 1000); //指定した再生時間 
}


    window.addEventListener('load', function() {
    let audio = $("#audio_autoplay")[0];
    let sources = audio.getElementsByTagName('source'); //sourceの名前を取得
    let randomIndex = Math.floor(Math.random() * sources.length); //sourceの長さ分ランダムで出力する
    console.log(randomIndex); //デバック用
    let randomSource = sources[randomIndex].src;  //sourcesの要素を監視して、.src属性にアクセスし値を取得。
    audio.src = randomSource; //ランダムに選ばれた値をaudio要素のsrc属性に代入して、サウンドの切り替えを実行。
    audio.play();
});

function audio() {
    let audio = $('#start-btn')[0]; //[0]はaudioに要素を何個も持たせることができるので[0]と指定が必要。
    let sources = audio.getElementsByTagName('source'); //sourceの名前を取得
    let randomIndex = Math.floor(Math.random() * sources.length); //sourceの長さ分ランダムで出力する
    console.log(randomIndex); //デバック用
    let randomSource = sources[randomIndex].src;  //sourcesの要素を監視して、.src属性にアクセスし値を取得。

    audio.src = randomSource;
    audio.play(); //オーディオを再生
    setTimeout(function() {
        window.location.href = './photo_game/main.html';
    }, 1000); //指定した再生時間 
}
/*#000000形式でランダム色を返すプログラム
=======================================================================*/
function getRumClr(){
    // 0～9、a～fの16進数の配列を用意
	var clrArr = ['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'];
	var clr = '#';
	for(i=0; i < 6; i++){ //「for」で6回繰り返して「#000000」の形にする。
		clr = clr + clrArr[Math.floor( Math.random() * 16)];
	}
	return clr;
}

$(function(){
	jQuery('p').css({'color':getRumClr()});
	jQuery('#title_sub_1').css({'color':getRumClr()});
	jQuery('#title_sub_2').css({'color':getRumClr()});
	jQuery('h1').css({'color':getRumClr()});
});
    </script>
</body>
</html>